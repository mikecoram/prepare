<link href="/css/home.css" rel="stylesheet">
<link href="/css/user-results.css" rel="stylesheet">

<div class="container">
    <div class="jumbotron">
        <h1>{{heading}}</h1>
        {{#if tutor}}
            <h2>{{userEmailAddress}}</h2>
            Click on the mark to view a student's answers.
        {{/if}}

        {{#if hasQuizzes}}
            <canvas id="line-graph-container" height="100"></canvas>
            
            <table class="table table-striped table-bordered">
                <thead>
                    <th scope="col">Number</th>
                    <th scope="col">Started On</th>
                    <th scope="col">Finished On</th>
                    <th scope="col">Mark</th>
                </thead>
                <tbody>
                    {{#each quizzes}}
                        <tr>
                            <td>{{number}}</td>
                            <td>{{createdAt}}</td>
                            <td>{{finishedOn}}</td>
                            {{#if linkResults}}
                                <td><a href="/quiz/{{id}}/section/1">{{result}}%</a></td>
                            {{else}}
                                <td>{{result}}%</td>
                            {{/if}}
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        {{else}}
            <h2>You have no results to display.</h2>
            <p class="centered">
                <a class="btn btn-lg btn-primary btn-xl" href="/quiz" role="button">Take the quiz</a>
             </p>
        {{/if}}
    </div>
</div>

<script src="/lib/chart.js/Chart.min.js" type="text/javascript"></script>

<script>
    const graphData = {{{graphData}}};
</script>

<script src="/js/user-results.js" type="text/javascript"></script>